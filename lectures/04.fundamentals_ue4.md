# Game Engine Architecture

## UE4 Fundamentals

---------------------
[nikoladimitroff.github.io/Game-Engine-Architecture](http://nikoladimitroff.github.io/Game-Engine-Architecture)

Nikola Dimitroff
<a href="mailto:nikola@dimitroff.bg"><i class="fa fa-envelope-o"></i></a>
<a href="https://github.com/nikoladimitroff"><i class="fa fa-github"></i></a>
<a href="https://dimitroff.bg"><i class="fa fa-rss"></i></a>

Dimitar Trendafilov
<a href="mailto:dimitar@coherent-labs.com"><i class="fa fa-envelope-o"></i></a>
<a href="https://github.com/dimitarcl"><i class="fa fa-github"></i></a>

--- NEXT SLIDE ---

## Contents

1. [Custom modules](#/custom-modules)
1. [Games and plugins](#/games-and-plugins)
1. [UHT](#/uht)
1. [UBT](#/ubt)
1. [UAT](#/uat)


--- NEXT SLIDE ---

## Review

1. What's the difference between these files?

| File | Description |
| ---- | ----------- |
| *Source/MyGame.Target.cs*       | <!-- .element class="fragment" data-fragment-index="0" --> Sets up the build environment for the *game* 'MyGame'   |
| *Source/MyGame/MyGame.Build.cs* | <!-- .element class="fragment" data-fragment-index="0" --> Sets up the build environment for the *module* 'MyGame' |

--- NEXT SLIDE ---

Last time on...'How I met your ~~mother~~ game engine'

* we downloaded and built UE4...did you?
* we talked about those 'module' thingies.

--- NEXT SLIDE ---

# TODO: REFACTOR

UE4 uses two main languages for programming

* C++ for all the core stuff
* Blueprints (BP) - a visual scripting language for designers and prototyping
* Blueprints are very helpful for rapid testing and prototyping
* C++ functions and classes can be exposed for usage in Blueprints

--- NEXT SLIDE ---

## Custom modules

Pay attention, 'tis be thy course project.

--- VERTICAL SLIDE ---

* All modules contain a *master* class deriving from [`IModuleInterface`]
(https://docs.unrealengine.com/latest/INT/API/Runtime/Core/Modules/IModuleInterface/index.html)
* The master class must be called `I[Something]Module`

```cpp
class ISusiModule : public IModuleInterface
{
    public:
    virtual void StartupModule() override;
    virtual void ShutdownModule() override;
}
```

--- VERTICAL SLIDE ---

* Module implementation is classic PIMPL
  - Public class that derives from `IModuleInterface`
  - Private class that implements the public class

```cpp
// /SusiModule/Public/SusiModule.h
class ISusiModule : public IModuleInterface {};

// /SusiModule/Private/SusiModule.cpp
class FSusiModule : public ISusiModule {};
IMPLEMENT_MODULE(FSusiModule, Susi)
```

--- VERTICAL SLIDE ---

Calling `IMPLEMENT_MODULE` is a requirement!
TODO: Elaborate

--- VERTICAL SLIDE ---

TODO: MODULE_API

--- VERTICAL SLIDE ---

TODO: Module structure

--- VERTICAL SLIDE ---

TODO: Gameplay modules Vs. general-purpose modules

--- VERTICAL SLIDE ---

TODO: Recap

--- NEXT SLIDE ---

## Games and plugins

--- VERTICAL SLIDE ---

TODO: uplugin, uproject

--- VERTICAL SLIDE ---

TODO: distribution

--- NEXT SLIDE ---

Any questions?

![Closing question meme]()